<div id="container">
  <div id="form">
    <div class="form-header">
      <div class="app-icon"></div>
      <div class="header">{{ headerText }}</div><br/>
      <div class="subheader">{{ subheaderText }}</div>
    </div>
    <form  (ngSubmit)="onSubmit()"  [formGroup]="form">
      <div id="reg-form">
        <div class="plain-text">{{ regFormText }}</div>
        <div class="fields">
          <input 
            formControlName="fname"
            class="input text"
            type="text"
            name="fname" 
            tabindex="0" 
            autofocus=true 
            autocomplete="name" 
            placeholder={{fnameText}}
            [ngClass]="{ 'ng-invalid warning': controls.fname.touched &&  controls.fname.invalid }"
          />
          <div *ngIf="controls.fname.touched && controls.fname.errors">
            <div *ngIf="controls.fname.errors.required" class="alert">First name is required</div>
            <div *ngIf="controls.fname.errors.pattern" class="alert">Must contain only letters</div>
          </div>
        </div>  
        <div class="fields">
          <input 
            formControlName="lname"
            class="input text"
            type="text"
            name="lname" 
            tabindex="0" 
            autofocus=true 
            autocomplete="family-name" 
            placeholder={{lnameText}}
            [ngClass]="{ 'ng-invalid warning': controls.lname.touched && controls.lname.invalid }"
          />
          <div *ngIf="controls.lname.touched && controls.lname.invalid">
            <div *ngIf="controls.lname.errors.required" class="alert">Last name is required</div>
            <div *ngIf="controls.lname.errors.pattern" class="alert">Must contain only letters</div>
          </div>
        </div>  
        <div class="fields" formGroupName="passwords">
          <!-- <div class="eye"></div> -->
          <input 
            formControlName="password"
            class="input" 
            type="{{ showPassword ? 'text' : 'password' }}"
            name="password" 
            tabindex="0" 
            autofocus=true 
            autocomplete="new-password"
            placeholder={{passText}}
            [ngClass]="{ 'pass': showPassword === false, 'ng-invalid warning': passwords.controls.password.touched && passwords.controls.password.invalid }"
          />
          <div *ngIf="passwords.controls.password.touched && passwords.controls.password.invalid">
            <div *ngIf="passwords.controls.password.errors.required" class="alert">Password is required</div>
            <div *ngIf="passwords.controls.password.errors.minlength" class="alert">Password must be at least 6 chars</div>
          </div>
        </div>
        <div class="fields" formGroupName="passwords">
          <input 
            formControlName="confirmPassword"
            class="input pass" 
            type="password" 
            name="confirmPassword" 
            tabindex="0" 
            autofocus=true 
            placeholder={{confPassText}}
            [ngClass]="{ 'ng-invalid warning': passwords.controls.confirmPassword.touched && passwords.invalid }"
          />
          <div *ngIf="passwords.controls.confirmPassword.touched && passwords.controls.confirmPassword.errors; else passwordGroupErrors">
            <div *ngIf="passwords.controls.confirmPassword.errors.required"
             class="alert">Password confirmation is required</div>
          </div>
          <ng-template #passwordGroupErrors>
            <div *ngIf="passwords.errors && passwords.errors.passwordsNotMatch"
              class="alert">Passwords do not match</div>
          </ng-template>
        </div>  
        <div class="fields">
          <input 
            formControlName="email"
            class="input text"
            type="email"
            name="email" 
            tabindex="0" 
            autofocus=true 
            autocomplete="email" 
            placeholder={{emailText}}
            [ngClass]="{ 'ng-invalid warning': controls.email.touched && controls.email.invalid }"
          />
          <div *ngIf="controls.email.touched && controls.email.invalid">
            <div *ngIf="controls.email.errors.required" class="alert">Email is required</div>
            <div *ngIf="controls.email.errors.email" class="alert">Email must be a valid email address</div>
          </div>
        </div>
      </div>      
      <button class="button" type="submit" tabindex="0" autofocus=true>{{ regButtonText }}</button>
    </form>
  </div>
</div>